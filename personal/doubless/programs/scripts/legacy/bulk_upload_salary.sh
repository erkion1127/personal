#!/bin/bash

# 6월부터 11월까지 급여 데이터를 다시 업로드하는 스크립트

PAY_DIR="../pay/2025"

echo "==================================================================="
echo "급여 데이터 일괄 재업로드 (6월~11월)"
echo "==================================================================="

# 파일 배열
declare -a files=(
    "6월트레이너 급여 목포.xlsx"
    "7월트레이너 급여 목포.xlsx"
    "8월 트레이너 급여 목포.xlsx"
    "9월 트레이너 급여 목포_수정본.xlsx"
    "10월 트레이너 급여 목포.xlsx"
    "11월 트레이너 급여 목포.xlsx"
)

# 각 파일 업로드
for file in "${files[@]}"; do
    echo ""
    echo "-------------------------------------------------------------------"
    echo "처리 중: $file"
    echo "-------------------------------------------------------------------"
    
    if [ -f "$PAY_DIR/$file" ]; then
        echo "yes" | python3 upload_salary_to_db.py "$PAY_DIR/$file" 2025
        
        if [ $? -eq 0 ]; then
            echo "✅ $file 업로드 완료"
        else
            echo "❌ $file 업로드 실패"
            exit 1
        fi
    else
        echo "⚠️  파일을 찾을 수 없습니다: $PAY_DIR/$file"
    fi
done

echo ""
echo "==================================================================="
echo "✅ 모든 파일 업로드 완료"
echo "==================================================================="
